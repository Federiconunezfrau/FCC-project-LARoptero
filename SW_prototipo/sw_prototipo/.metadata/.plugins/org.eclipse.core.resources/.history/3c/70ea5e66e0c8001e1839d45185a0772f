/*
 * myUART.c
 *
 *  Created on: Feb 11, 2024
 *      Author: fede
 */

#include "myUART.h"

void myUART_constructor(myUART_t *me, UART_HandleTypeDef *huart)
{
	me->mHuart_ = huart;
	me->mEnabled_ = 0;
	circularBuffer_constructor(&me->mCbuf_, me->mRxBuf_, LEN_RX_BUFFER);
}

void myUART_enable(myUART_t *me)
{
	HAL_UART_Receive_IT(me->mHuart_, &me->mAux_, 1);
}

void myUART_disable     ( myUART_t* );
void myUART_read        ( myUART_t*, uint8_t *, uint32_t );
void myUART_send        ( myUART_t*, uint8_t*, uint32_t );
void myUART_IRQ_handler ( myUART_t* );
