/*
 * timeTriggeredUART.h
 *
 *  Created on: Feb 26, 2024
 *      Author: fede
 */

#ifndef INC_TIMETRIGGEREDUART_H_
#define INC_TIMETRIGGEREDUART_H_

#include "usart.h"
#include "utils.hpp"

typedef struct
{
	UART_HandleTypeDef mHuart_;
	circ_buffer<uint8_t, SIZE_BUFFER_UART> mBuffer_;
} timeTriggeredUART_t;

typedef enum
{
	CNI_OK = 0,
	CNI_MSG_HANDLE_NOT_VALID,
	CNI_MSG_HANDLE_TX_NOT_ALLOWED,
	CNI_MSG_HANDLE_RX_NOT_ALLOWED
} timeTriggeredUART_status_t;

void timeTriggeredUART_constructor  ( timeTriggeredUART_t* );
void timeTriggeredUART_add_to_queue ( timeTriggeredUART_t*, uint8_t, uint8_t, uint8_t* );
void timeTriggeredUART_send         ( timeTriggeredUART_t* );

#endif /* INC_TIMETRIGGEREDUART_H_ */
