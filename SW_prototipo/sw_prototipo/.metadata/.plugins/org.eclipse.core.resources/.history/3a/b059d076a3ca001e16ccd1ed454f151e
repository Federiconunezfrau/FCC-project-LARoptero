/*
 * CNI.h
 *
 *  Created on: Feb 13, 2024
 *      Author: fede
 */

#ifndef INC_CNI_H_
#define INC_CNI_H_

#include "stm32f7xx_hal.h"

#define NODE_ID_0 0
#define NODE_ID_1 1
#define NODE_ID_2 2

#define MY_NODE_ID NODE_ID_0

typedef struct
{
	CAN_HandleTypeDef *mHcan_;
	uint32_t mNodeID_;
} CNI_t;

typedef enum
{
	CNI_OK = 0,
	CNI_MSG_HANDLE_NOT_VALID
} CNI_status_t;

void CNI_constructor ( CNI_t*, CAN_HandleTypeDef*);
void CNI_destructor  ( CNI_t* );

CNI_status_t CNI_send_msg    ( CNI_t*, uint32_t );
CNI_status_t CNI_receive_msg ( CNI_t*, uint32_t );

#endif /* INC_CNI_H_ */
