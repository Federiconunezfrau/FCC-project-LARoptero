/* 
 * File:   Buffer_Circular.h
 * Author: JAVIER
 *
 * Modificado por MartinE del original para qye el buffer sea de 8 bits en vez de 16.
 * Created on 21 de enero de 2016, 10:14
 */

#ifndef INC_CIRCULARBUFFER_H_
#define INC_CIRCULARBUFFER_H_

#include <stdint.h>

typedef struct
{
    uint8_t *buf;
    uint8_t size;
    uint8_t read;
    uint8_t write;
} circularBuffer_t;

typedef enum
{
    ErrorBufferFull, ErrorBufferEmpty, NoErrorBuffer
} ErrorBuffer;

/**
 * Inicializa el Buffer cicular.
 * @param Buffer
 * @param Block
 * @param size
 * @param OffsetWrite
 * @param OffsetRead
 */
void Init_Buffer(CircularBuffer* Buffer, uint8_t* Block, uint8_t size, uint8_t OffsetWrite, uint8_t OffsetRead);

uint8_t BufferLenghtData(CircularBuffer* Buffer);

/**
 * Ecribe un dato en el buffer circular
 * @param Buffer
 * @param data
 * @return 
 */
ErrorBuffer BufferWrite(CircularBuffer* Buffer, uint8_t data);
ErrorBuffer BufferRead(CircularBuffer* Buffer, uint8_t *data);


#ifdef	__cplusplus
extern "C" {
#endif
#ifdef	__cplusplus
}
#endif

#endif	/* BUFFER_CIRCULAR_H */
